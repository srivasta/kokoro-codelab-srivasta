<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TEST_STRINGS: Makefile Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>Makefile</h1><a href="Makefile.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">############################ -*- Mode: Makefile -*- ###########################</span>
00002 <span class="preprocessor"></span><span class="preprocessor">## Makefile&lt;string_test&gt; --- </span>
00003 <span class="preprocessor"></span><span class="preprocessor">## Author           : Manoj Srivastava ( srivasta@glaurung.green-gryphon.com ) </span>
00004 <span class="preprocessor"></span><span class="preprocessor">## Created On       : Thu Feb 20 12:46:26 2003</span>
00005 <span class="preprocessor"></span><span class="preprocessor">## Created On Node  : glaurung.green-gryphon.com</span>
00006 <span class="preprocessor"></span><span class="preprocessor">## Last Modified By : Manoj Srivastava</span>
00007 <span class="preprocessor"></span><span class="preprocessor">## Last Modified On : Thu Feb 27 17:49:38 2003</span>
00008 <span class="preprocessor"></span><span class="preprocessor">## Last Machine Used: ember.green-gryphon.com</span>
00009 <span class="preprocessor"></span><span class="preprocessor">## Update Count     : 26</span>
00010 <span class="preprocessor"></span><span class="preprocessor">## Status           : Unknown, Use with caution!</span>
00011 <span class="preprocessor"></span><span class="preprocessor">## HISTORY          : </span>
00012 <span class="preprocessor"></span><span class="preprocessor">## Description      : $Id: Makefile,v 1.2 2003/02/21 12:05:34 srivasta Exp $</span>
00013 <span class="preprocessor"></span><span class="preprocessor">## </span>
00014 <span class="preprocessor"></span><span class="preprocessor">## Copyright (C) 2003 Manoj Srivastava</span>
00015 <span class="preprocessor"></span><span class="preprocessor">## </span>
00016 <span class="preprocessor"></span><span class="preprocessor">## This sample implementation of string functions is free software;</span>
00017 <span class="preprocessor"></span><span class="preprocessor">## you can redistribute it and/or modify it under the terms of the GNU</span>
00018 <span class="preprocessor"></span><span class="preprocessor">## General Public License as published by the Free Software</span>
00019 <span class="preprocessor"></span><span class="preprocessor">## Foundation; either version 2, or (at your option) any later</span>
00020 <span class="preprocessor"></span><span class="preprocessor">## version.</span>
00021 <span class="preprocessor"></span><span class="preprocessor">##</span>
00022 <span class="preprocessor"></span><span class="preprocessor">## This sample implementation of string functions is distributed in</span>
00023 <span class="preprocessor"></span><span class="preprocessor">## the hope that it will be useful, but WITHOUT ANY WARRANTY; without</span>
00024 <span class="preprocessor"></span><span class="preprocessor">## even the implied warranty of MERCHANTABILITY or FITNESS FOR A</span>
00025 <span class="preprocessor"></span><span class="preprocessor">## PARTICULAR PURPOSE.  See the GNU General Public License for more</span>
00026 <span class="preprocessor"></span><span class="preprocessor">## details.</span>
00027 <span class="preprocessor"></span><span class="preprocessor">##</span>
00028 <span class="preprocessor"></span><span class="preprocessor">## You should have received a copy of the GNU General Public License</span>
00029 <span class="preprocessor"></span><span class="preprocessor">## along with This sample implementation of string functions; see the</span>
00030 <span class="preprocessor"></span><span class="preprocessor">## file COPYING.  If not, write to the Free Software Foundation, Inc.,</span>
00031 <span class="preprocessor"></span><span class="preprocessor">## 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span>
00032 <span class="preprocessor"></span><span class="preprocessor">##</span>
00033 <span class="preprocessor"></span><span class="preprocessor">###############################################################################</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">## The sources present in this directory</span>
<a name="l00036"></a><a class="code" href="Makefile.html#a0">00036</a> <span class="preprocessor"></span><a class="code" href="Makefile.html#a0">SRC</a>=string_test.c Makefile Doxyfile COPYING
00037 
00038 <span class="preprocessor">## Automatically extract the C files from the sources</span>
00039 <span class="preprocessor"></span>CFILES+=$(patsubst %.l,%.yy.c,$(LEXFILES)) \
00040                  $(patsubst %.y,%.tab.c,$(YACCFILES)) \
00041                  $(filter %.c,$(SRC))
00042 
00043 <span class="preprocessor">## If the C files are present, generate a list of OBJECTS automatically</span>
00044 <span class="preprocessor"></span>ifneq ($(strip $(CFILES)),)
00045 OBJECTS+=$(patsubst %.c,%.o,$(CFILES)) 
00046 endif
00047 
00048 ## Debugging option for the compiler
00049 CDEBUG+=-g
00050 
00051 ## @brief Optimizing options
00052 COPTS=-pipe -O3 -g
00053 
00054 ## Warnings. You can never have too many warnings
00055 CWARNS=-ansi -pedantic -Wall -W -Wtraditional -Wconversion -Wshadow \
00056        -Wpointer-arith -Wbad-function-cast -Wcast-qual -Wcast-align \
00057        -Wwrite-strings -Waggregate-return -Wstrict-prototypes \
00058        -Wmissing-prototypes -Wmissing-declarations \
00059        -fshort-enums -fno-common -Dgets=DONT_USE_GETS -Dlint \
00060        -Wnested-externs -Winline
00061 
00062 ## Additional files we remove when cleaning
00063 FILES_TO_CLEAN=stringtest stringtest.tag
00064 DIRS_TO_CLEAN=html latex man
00065 
00066 ifdef DO_DEBUG
00067 CFLAGS+= $(CDEBUG) -DDEBUG
00068 endif
00069 ifneq ($(strip $(NO_OPTIMIZE)),)
00070 CFLAGS+= $(COPTS)
00071 endif
00072 ifneq ($(strip $(DEBUG)),)
00073 CFLAGS+= -DDEBUG=$(DEBUG)
00074 endif
00075 ifeq ($(strip $(NO_WARNS)),)
00076 CFLAGS+= $(CWARNS)
00077 endif
00078 
00079 
00080 ## Default target
00081 all: stringtest
00082 
00083 ## The regression test suite for the library functions
00084 stringtest: $(OBJECTS)
00085         $(REASON)
00086         $(CC) $(LDFLAGS) -o $@ $(OBJECTS)
00087 
00088 
00089 ## Clean the files created during build
00090 clean:
00091         rm -f  $(FILES_TO_CLEAN) 
00092         rm -fr  $(DIRS_TO_CLEAN) 
00093         rm -f core `find . \( -name '*.orig' -o -name '*.rej' -o \
00094           -name '*~' -o -name '*.bak' -o -name '#*#' -o \
00095           -name '.*.orig' -o -name '.*.rej' -o -name '.SUMS' -o \
00096           -size 0  -o -name '*.o' \) -print` TAGS
00097 
00098 
00099 ## Why some action is being taken
00100 REASON= @if [ -f $@ ]; then \
00101  echo "====== making $(notdir $@) because of $(notdir $?) ======";\
00102  else \
00103    echo "====== making (creating) $(notdir $@) from $(notdir $?) ======"; \
00104  fi
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Nov 7 19:05:05 2004 for TEST_STRINGS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
